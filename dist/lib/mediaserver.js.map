{"version":3,"file":"mediaserver.js","sourceRoot":"","sources":["../../src/lib/mediaserver.ts"],"names":[],"mappings":"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"}